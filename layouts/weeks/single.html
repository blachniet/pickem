{{ define "title" }}{{ .Title }}{{ end }}
{{ define "head" }}
<style>
  @page {
    size: A4;
  }

  @media print {
    body {
      grid-template-columns: 1fr;
    }

    header, footer, div.controls {
      display: none;
    }

    main {
      padding: 0;
    }

    h2 {
      font-size: 1.25em;
      margin: 0;
    }

    td {
      break-inside: avoid;
    }
  }

  div.controls {
    text-align: center;
  }

  h2 {
    text-align: center;
  }

  table.pickem-sheet {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 0.75rem;
    border-collapse: collapse;
    width: 100%;
  }

  table.pickem-sheet td {
    border-left: 0;
    border-right: 0;
    border-bottom: 1px solid;
    border-top: 1px solid;
    padding: 0;
    text-align: center;
    width: 25%;
  }

  table.pickem-sheet tr {
    background-color: unset;
  }

  table.pickem-sheet tr > td:first-child {
    width: 10%;
  }

  table.pickem-sheet tr > td:nth-child(2) {
    border-right: 1px solid;
  }

  table.pickem-sheet tr > td:nth-child(4) {
    width: 10%;
  }

  table.pickem-sheet img {
    width: 75%;
  }
</style>
{{ end }}

{{ define "main" }}
<div class="controls">
  <a class="button" href="javascript:window.print()">ðŸ–¨ Print this page</a>
</div>

<h2>{{ .Title }}</h2>

<table class="pickem-sheet">
  <tbody>
    {{ range $i, $r := getCSV "," (printf "content/%sdata.csv" .File.Dir) }}
    {{ $away := index $.Site.Data.teams (index $r 0) }} 
    {{ $home := index $.Site.Data.teams (index $r 1) }} 
    <tr>
      <td>
        <img src="/logos/{{ index $r 0 }}.webp">
        <div>
          {{$away.loc}} {{$away.name}}
        </div>
      </td>
      <td></td>
      <td></td>
      <td>
        <img src="/logos/{{ index $r 1 }}.webp">
        <div>
          {{$home.loc}} {{$home.name}}
        </div>
      </td>
    </tr>
    {{ end }}
  </tbody>
</table>

<div class="controls">
  <a class="button" href="javascript:window.print()">ðŸ–¨ Print this page</a>
</div>
{{ end }}
